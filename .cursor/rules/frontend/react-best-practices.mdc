---
description: "USE WHEN: React bileşeni, hook veya lifecycle tasarlıyorsan."
globs: "src/components/**/*.{ts,tsx},src/hooks/**/*.{ts,tsx}"
alwaysApply: false
---

# React Best Practices

## Constraints

- **SRP:** Bileşenleri küçük tut (max 150 satır).
- **Composition:** Prop drilling yerine `children` veya `slot` kullan.
- **Naming:** Component `PascalCase`, hook `useCamelCase`.
- **Hooks:** Business logic'i custom hook'a taşı.
- **State:** State'i en yakın ortak ataya koy.
- **Updates:** `setState(prev => ...)` kullan.
- **Effects:** `useEffect` son çare. Event handler veya `useMemo` tercih et.
- **Keys:** Listelerde stabil ID kullan (index yasak).

## Bans

- Prop drilling (>2 seviye).
- Class component.
- Dependency array'i eksik bırakmak.
- Props'u state'e eşitlemek (Derived state kullan).
- Render sırasında ağır hesaplama.
- Bileşen içinde data fetching (API kuralı).

## Always Do

```tsx
const stableHandler = useEvent(handler);
useEffect(() => { stableHandler(data); }, [data]);
```

## Never Do

```tsx
useEffect(() => { fetchData(); }, []); // Fetching yasak
useEffect(() => { setVal(props.val); }, [props.val]); // Sync yasak
```
