---
description: "USE WHEN: Form bileşeni veya şeması yazıyorsan."
globs: "src/features/**/components/*Form*.tsx,src/features/**/schemas/*.ts"
alwaysApply: false
---

# Form Management

## Constraints

- **Library:** `react-hook-form` + `@hookform/resolvers/zod` kullan.
- **Schema:** Şemaları `features/[feature]/schemas/` dizininde tut.
- **Defaults:** `defaultValues`'u şema üzerinden `z.infer` ile tam ver.
- **Performance:** `watch` yerine `useWatch` veya `Controller` kullan.
- **Submission:** `handleSubmit` kullan. `isSubmitting` ile çift tıklamayı engelle.
- **Errors:** Sunucu hatalarını `setError` ile map'le.

## Bans

- Native `form` submit event'ini manuel yönetmek.
- Root seviyede `watch()`.
- Form state'ini `useEffect` ile senkronize etmek.
- Şemayı bileşen dosyasında tanımlamak.
- `useState` ile form input yönetmek.

## Always Do

```tsx
const form = useForm<z.infer<typeof Schema>>({
  resolver: zodResolver(Schema),
  defaultValues: { email: "" }
});
const email = useWatch({ control: form.control, name: "email" });
```

## Never Do

```tsx
const [email, setEmail] = useState("");
const values = form.watch(); // Root watch
```
