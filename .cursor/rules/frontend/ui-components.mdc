---
description: "UI: Shadcn, Tailwind, atomik hiyerarşi, loading/a11y."
globs: "src/components/**/*.{ts,tsx},src/features/**/components/**/*.{ts,tsx}"
alwaysApply: false
---

# UI Components

**Boundary:** Atomic `src/components/ui/` (API, TanStack Query, global store yasak). Shared `src/components/shared/`. Feature `src/features/[name]/components/` (domain, hook, query, store burada). Ref: `api.mdc` (HTTP yasağı), `tanstack-query.mdc` (hook), `typescript.mdc` (Zod form şemaları).

---

## Kısıtlamalar (Constraints)

- **Atomic:** Saf, stateless, shadcn primitive; API/query/store bağımlılığı yok.
- **Shared:** Birden fazla feature; domain bağımlılığı minimal.
- **Feature:** Domain logic; hook/query/store burada.
- **Tailwind only:** CSS module, styled-components, inline style yasak.
- **Class merge:** Koşullu class → sadece `cn()` (`@/lib/utils`).
- **Mobile first:** Responsive sıra `p-4 md:p-8`.
- **Design tokens:** Hex/rgb yasak; `text-primary`, `bg-background`, `border-muted`.
- **Shadcn:** Default stiller override edilmez (açık istek hariç).
- **Export:** Sadece named; default export yasak.
- **Props:** Her zaman `type` ile.
- **Icons:** Sadece lucide-react; default size 16; dekoratif → aria-hidden="true".
- **Toasts:** shadcn Sonner.
- **Default:** Bileşenler Server Component. "use client" sadece state/effect/handlers gerektiğinde; en küçük leaf’e.
- **Data:** Initial load → Server Component; user interaction → Client + TanStack Query.
- **Form:** @/components/ui; validation Zod (Ref: typescript.mdc); şema feature schemas/. Shadcn FormField, FormItem, FormLabel, FormMessage. Input ↔ label ↔ error bağı programatik.
- **Loading:** Async veri tüketen bileşen → [ComponentName]Skeleton zorunlu. Base: @/components/ui/skeleton. Skeleton boyut/spacing/yapı gerçek bileşenle eşleşir.
- **A11y:** Semantic layout (main, nav, aside, section, article). Interactive → görünür focus. Icon-only button → aria-label. Dekoratif → aria-hidden="true". Radix/Base UI mirası korunur.

---

## Yasaklar (Bans)

- Atomic layer’da API, TanStack Query, global store.
- Inline style.
- Hex/rgb renk.
- default export.
- Bileşen içinde data fetching/HTTP (Ref: api.mdc, tanstack-query.mdc).

---

## Always Do

```tsx
import { Card } from "@/components/ui/card";

type ProfileCardProps = {
  name: string;
  children?: React.ReactNode;
};

export const ProfileCard = ({ name, children }: ProfileCardProps) => (
  <Card className="p-4">
    <h3>{name}</h3>
    {children}
  </Card>
);
```

```tsx
<div className={cn("p-4", active ? "bg-primary" : "bg-muted")} />
```

---

## Never Do

```tsx
export default function Button() {}
```

```tsx
<div style={{ padding: 16 }} />
```

```tsx
// ui/ içinde
const { data } = useQuery(...);
```
