---
description: "UI bileşen üretim standartları. Shadcn, Tailwind ve atomik mimari kuralları."
globs: "src/components/**/*.{ts,tsx}, src/features/**/components/**/*.{ts,tsx}"
alwaysApply: false
---

# UI Component Standards (LLM Guardrails)
AI, UI bileşeni üretirken bu hiyerarşi ve teknik bariyerlere uyar.

## 1) Component Placement (Strict Hierarchy)
* **Atomic — `src/components/ui/`**
  * Saf, stateless, shadcn tabanlı primitive’ler.
  * API, TanStack Query, global store bağımlılığı yasak.

* **Shared — `src/components/shared/`**
  * Birden fazla feature tarafından kullanılan fonksiyonel bileşenler.
  * Domain bağımlılığı minimal olmalı.

* **Feature — `src/features/[name]/components/`**
  * Domain logic içeren bileşenler.
  * Hook, query ve store bağımlılığı burada olabilir.

## 2) Styling Protocol (Strict)
* **Tailwind Only:** CSS module, styled-components, inline style yasak.
* **Class Merge:** Koşullu class için yalnızca `cn()` → `@/lib/utils`.
* **Mobile First:** Responsive sıralama mobile-first olmalı.
  * `p-4 md:p-8`
* **Design Tokens:** Hex/rgb yasak.
  * `text-primary`, `bg-background`, `border-muted`
* **Shadcn Integrity:** Açıkça istenmediği sürece default shadcn stilleri override edilmez.

## 3) Implementation Rules
* **Exports:** Sadece named export. `default export` yasak.
* **Props Typing:** Props her zaman `type` ile tanımlanır.
* **Icons:**
  * Sadece `lucide-react`
  * Default: `size={16}`
  * Dekoratif ikon: `aria-hidden="true"`
* **Toasts:** Tüm bildirimler → shadcn Sonner.

## 4) Next.js Component Boundaries
* **Default:** Tüm bileşenler Server Component kabul edilir.
* **"use client" Rule:**
  * Sadece gerektiğinde eklenir:
    * state
    * effect
    * event handlers
  * Mümkün olan en küçük leaf component’e yerleştirilir.
* **Data Fetching Split:**
  * Initial load → Server Component
  * User interaction → Client Component + TanStack Query

## 5) Form Architecture
* **Base Components:** `@/components/ui` atomik bileşenleri kullan.
* **Validation:** Form şemaları için mutlaka `typescript.mdc` içindeki **Zod-First** kuralı uygulanır. Şema, feature klasöründeki `schemas/` dizininde tanımlanır.
* **Shadcn Pattern:**
  * `FormField`
  * `FormItem`
  * `FormLabel`
  * `FormMessage`
* **A11y:** Input ↔ label ↔ error bağı programatik olarak kurulmalı.

## 6) Loading States (Strict)
* Async veri tüketen her bileşen için:
  * `[ComponentName]Skeleton` zorunlu.
* Base: `@/components/ui/skeleton`
* Layout parity:
  * Skeleton boyut, spacing ve yapı olarak gerçek bileşenle eşleşir.

## 7) Accessibility (A11y Guardrails)
* **Semantic Layout:**
  * `<main>`, `<nav>`, `<aside>`, `<section>`, `<article>`
* **Focus States:**
  * Tüm interactive öğeler görünür focus state taşır.
* **Icon-only Buttons:**
  * Zorunlu: `aria-label`
* **Decorative Icons:**
  * `aria-hidden="true"`
* **Base Primitives:**
  * Radix/Base UI erişilebilirlik mirası korunur.

## 8) Hard Bans
* ❌ DONT / BAN: Atomic layer içinde:
  * API çağrısı
  * TanStack Query
  * Global store erişimi
* ❌ DONT / BAN: Inline style
* ❌ DONT / BAN: Hex / rgb renk kullanımı
* ❌ DONT / BAN: default export
* ❌ DONT / BAN: Bileşen içinde data fetching / HTTP (tek kaynak → **api.mdc**; hook kullanımı → **tanstack-query.mdc**)

## 9) Composition Example
```tsx
// ✅ DO / MUST: UI + composition
import { Card } from "@/components/ui/card";

type ProfileCardProps = {
  name: string;
  children?: React.ReactNode;
};

export const ProfileCard = ({ name, children }: ProfileCardProps) => {
  return (
    <Card className="p-4">
      <h3>{name}</h3>
      {children}
    </Card>
  );
};
```

## 10) Class Merging
```tsx
// ✅ DO / MUST
<div className={cn("p-4", active ? "bg-primary" : "bg-muted")} />
```
